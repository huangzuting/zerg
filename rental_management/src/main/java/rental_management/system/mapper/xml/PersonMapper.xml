<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rental_management.system.mapper.PersonMapper">
	<resultMap type="rental_management.system.bean.Person" id="personMap">
		<id property="id" column="id" />
		<result property="name" column="name" />
		<result property="address" column="address" />
		<result property="brithDate" column="brith_date" />
		<result property="phone" column="phone" />
		<result property="sex" column="sex" />
		<result property="islogoff" column="islogoff" />
		<result property="logoffreason" column="logoffreason" />
		<result property="logofftime" column="logofftime" />
		<result property="logoffPerson" column="logoff_person" />
		<result property="identityNumber" column="identity_number" />
	</resultMap>
	<select id="list" resultMap="personMap">
		select
		id,name,identity_number,address,brith_date,phone,sex,islogoff,logoffreason,logofftime,logoff_person
		from person_info
	</select>

	<select id="getPerson" resultMap="personMap"
		parameterType="int">
		select
		id,name,identity_number,address,brith_date,phone,sex,islogoff,logoffreason,logofftime,logoff_person
		from person_info where 1=1
		and id=#{id}
	</select>
	<insert id="insert" parameterType="rental_management.system.bean.Person">
		insert into
		person_info(name,address,brith_date,phone,sex,islogoff,logoffreason,logofftime,logoff_person,identity_number)
		values(
		#{name,jdbcType=VARCHAR},
		#{address,jdbcType=VARCHAR},
		#{brithDate,jdbcType=TIMESTAMP},
		#{phone,jdbcType=VARCHAR},
		#{sex,jdbcType=NUMERIC},
		#{islogoff,jdbcType=VARCHAR},
		#{logoffreason,jdbcType=VARCHAR},
		#{logofftime,jdbcType=TIMESTAMP},
		#{logoffPerson,jdbcType=VARCHAR},
		#{identityNumber,jdbcType=VARCHAR}
		);
	</insert>

	<select id="selectName" resultMap="personMap"
		parameterType="string">
		select
		id,name,identity_number,address,brith_date,phone,sex,islogoff,logoffreason,logofftime,logoff_person
		from person_info where 1=1
		and name=#{name}
	</select>
	
	<update id="update" parameterType="rental_management.system.bean.Person">
	update person_info set
	name=#{name,jdbcType=VARCHAR},
	address=#{address,jdbcType=VARCHAR},
	phone=#{phone,jdbcType=VARCHAR},
	sex=#{sex,jdbcType=NUMERIC},
	identity_number=#{identityNumber,jdbcType=VARCHAR}
	brith_date=#{brithDate,jdbcType=TIMESTAMP}
	where 
	id=id=#{id}
	
	</update>
	


</mapper>