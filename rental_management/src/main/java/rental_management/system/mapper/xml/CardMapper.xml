<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rental_management.system.mapper.CardMapper">
	<resultMap type="rental_management.system.bean.Card"
		id="cardMap">
		<id property="id" column="id" />
		<result property="cardNo" column="card_no" />
		<result property="effectTime" column="effect_time" />
		<result property="cdt" column="cdt" />
		<result property="name" column="name" />
		<result property="status" column="status" />
		<result property="userId" column="user_id" />
		<result property="cancelDate" column="cancel_date" />
		<result property="personId" column="person_id" />
	
	</resultMap>
	<select id="list" resultMap="cardMap">
		select
		id,card_no,effect_time,cdt,name,status,user_id,cancel_date,person_id from gd_card_reg
	</select>
	
	
	
	<insert id="insert"  parameterType="rental_management.system.bean.Card">
	insert into gd_card_reg(card_no,effect_time,name,status,user_id,cancel_date,person_id,cdt) values(
	#{cardNo,jdbcType=VARCHAR},
	#{effectTime,jdbcType=TIMESTAMP},
	#{name,jdbcType=VARCHAR},
	#{status,jdbcType=NUMERIC},
	#{userId,jdbcType=NUMERIC},
	#{cancelDate,jdbcType=TIMESTAMP},
	#{personId,jdbcType=NUMERIC},
	#{cdt,jdbcType=TIMESTAMP}
	);
	</insert>
	
	<select id="selectId" resultMap="cardMap"
		parameterType="int">
		select
		card_no,effect_time,cdt,name,status,user_id,cancel_date,person_id
		from gd_card_reg where 1=1
		and id=#{id}
	</select>
	
	<update id="update" parameterType="rental_management.system.bean.Card">
	update gd_card_reg set
	card_no = #{cardNo,jdbcType=VARCHAR},
	effect_time = #{effectTime,jdbcType=TIMESTAMP},
	name= #{name,jdbcType=VARCHAR},
	status=#{status,jdbcType=NUMERIC},
	user_id=#{userId,jdbcType=NUMERIC}
	where id=#{id}
	
	</update>
	
	<select id="selectName" resultMap="cardMap"
		parameterType="string">
		select
		card_no,effect_time,cdt,name,status,user_id,cancel_date,person_id
		from gd_card_reg where name=#{name}
	</select>
	
	
</mapper>